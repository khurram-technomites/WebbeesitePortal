@model WebApp.ViewModels.SupplierViewModel

@{
    ViewBag.Title = "Create";
    Layout = "~/Areas/Restaurant/Views/Shared/_Layout.cshtml";
}
<style>
    .swal2-styled.swal2-confirm {
        background-color: #d24b4b !important;
    }

    .fa-arrow-right:before {
        content: "\f061";
        color: red;
    }

    .vertical {
        width: 0.1rem;
        height: auto;
        border: none;
        background: #dacdcd;
    }

    .color-circle {
        width: 10px;
        height: 10px;
        border-radius: 50px;
        display: inline-block;
        position: relative;
        margin-top: 0px;
        padding-top: 5px;
        top: 1px;
    }

    .variat {
        border-top: 1px solid #0000001c;
        padding-top: 1.25rem !important;
        border-bottom: 1px solid #0000004a;
        padding-bottom: 1.25rem !important;
    }

    .branch-input {
        background-color: #e8e8e8;
    }

        .branch-input::placeholder {
            color: #8e8a8a;
            opacity: 70;
        }

    .pin-on-map {
        right: 50px;
        padding-right: 5px;
        border-right: 1px solid rgb(255 63 64 / 5%);
    }

    .get-current-location {
        top: 25px;
        right: 30px;
    }

        .get-current-location i {
            color: #FF3F40;
        }
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
        height: 100%;
    }


    div.pac-container {
        /*for search locaton on map model popup txtaddress*/
        z-index: 99999999999 !important;
    }

    .wo-right-icon {
        position: absolute;
        top: 30px;
        font-size: 12px;
        color: #FF3F40;
        font-weight: 900;
    }

        .wo-right-icon:hover {
            color: #c91e1f;
        }

    .pac-card {
        background-color: #fff;
        border: 0;
        border-radius: 2px;
        box-shadow: 0 1px 4px -1px rgba(0, 0, 0, 0.3);
        margin: 10px;
        padding: 0 0.5em;
        font: 400 18px Roboto, Arial, sans-serif;
        font-family: Roboto;
        padding: 0;
    }

    #pac-container {
        z-index: 1051 !important;
    }

    .pac-container {
        z-index: 1051 !important;
    }

    .pac-controls {
        padding: 5px 11px;
    }

        .pac-controls label {
            font-family: Roboto;
            font-size: 13px;
            font-weight: 300;
        }

    #pac-input {
        background-color: #fff;
        font-family: Roboto;
        font-size: 15px;
        font-weight: 300;
        margin-left: 12px;
        padding: 0 11px 0 13px;
        text-overflow: ellipsis;
        width: 503px;
        height: 40px;
    }

        #pac-input:focus {
            border-color: #4d90fe;
        }
</style>



<link href="~/Admin/css/restaurant/shop/index.css" rel="stylesheet" />
<!--begin::Content-->
<div class="content d-flex flex-column flex-column-fluid" id="kt_content">
    <!--begin::Subheader-->
    <!--end::Subheader-->
    <!--begin::Entry-->
    <div class="d-flex flex-column-fluid">
        <!--begin::Container-->
        <div class="container-fluid">
            <!--begin::Dashboard-->
            <div class="row justify-content-center">
                <div class="col-md-11">
                    <div class="subheader py-2 py-lg-12 subheader-transparent" id="kt_subheader">
                        <div class="align-items-center justify-content-between flex-wrap flex-sm-nowrap">
                            <!--begin::Info-->


                            <div class="d-flex align-items-center flex-wrap mr-1">
                                <!--begin::Heading-->
                                <div class="d-flex flex-column">

                                    <!--begin::Breadcrumb-->
                                    <div class="d-flex align-items-center font-weight-bold my-2">
                                        <!--begin::Item-->
                                        <a href="~/Restaurant/Dashboard/Index" class="opacity-75 hover-opacity-100">
                                            <i class="flaticon2-shelter text-white icon-1x"></i>
                                        </a>
                                        <!--end::Item-->
                                        <!--begin::Item-->
                                        <a href="/Restaurant/Dashboard/Index" class="text-white text-hover-white opacity-75 hover-opacity-100">&nbsp;&nbsp;Dashboard</a>
                                        <!--end::Item-->
                                        <!--begin::Item-->
                                        <span class="label label-dot label-sm bg-white opacity-75 mx-3"></span>
                                        <a href="/Restaurant/Shop/Index" class="text-white text-hover-white opacity-75 hover-opacity-100">Shops</a>
                                        <span class="label label-dot label-sm bg-white opacity-75 mx-3"></span>
                                        <a href="/Restaurant/Shop/ProductsByShop/@Model.Id" class="text-white text-hover-white opacity-75 hover-opacity-100">@Model.NameAsPerTradeLicense</a>
                                        <span class="label label-dot label-sm bg-white opacity-75 mx-3"></span>
                                        <a href="javascript:void(0);" class="text-white text-hover-white opacity-75 hover-opacity-100">Basket</a>
                                        <!--end::Item-->
                                    </div>
                                    <!--end::Breadcrumb-->
                                </div>

                                <!--end::Heading-->
                            </div>
                            <!--end::Info-->
                        </div>


                    </div>

                    <!--begin::Card-->
                    @*<div class="card card-custom  gutter-b" id="kt_page_sticky_card">
                        <div class="card-body">

                        </div>
                        </div>*@
                    <div class="card card-custom  gutter-b">
                        <div class="card-body">

                            <div class="">
                                <div class="" id="headingImage">
                                    <div class="row">
                                        <div class="col-8 d-flex">
                                            <h3>My Basket</h3>
                                            @*<span class="font-size-h5 ml-2 clear-all" onclick="ClearAll(this)" style="color:red;">All Clear</span>*@
                                        </div>
                                        <div class="col-4">
                                            <div><h3 class="mt-2">Total</h3></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 col-sm-7 cc-scroll">
                                        <div class="row order-cart">

                                        </div>
                                    </div>
                                    <div class="col-md-4 col-sm-5">

                                        <div class="row p-4 amount-tile mt-10 ml-1">
                                            <input type="hidden" id="supplierId" value="@Model.Id" />
                                            <div class="col-md-6 text-left">
                                                <label class="font-weight-bolder">Subtotal</label>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <label class="font-weight-bolder order-subtotal"></label>
                                            </div>
                                            <div class="col-md-6 text-left">
                                                <label class="font-weight-bolder">Delivery Charges</label>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <label class="font-weight-bolder order-delivery">0 AED</label>
                                            </div>
                                            <div class="col-md-6 text-left">
                                                <label class="font-weight-bolder">VAT(%)</label>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <label class="font-weight-bolder order-vat">0 AED</label>
                                            </div>
                                            <div class="col-md-6 text-left coupon-div coupon-basket" style="display:none">
                                                <label class="font-weight-bolder coupon-code"></label>
                                            </div>
                                            <div class="col-md-6 text-right coupon-div" style="display:none">
                                                <label class="font-weight-bolder coupon-amount">0 AED</label>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="separator separator-solid basket-total-separator my-1"></div>
                                            </div>

                                            <div class="col-md-6 text-left">
                                                <label class="font-weight-bolder basket-total">Total</label>
                                            </div>
                                            <div class="col-md-6 text-right">
                                                <label class="font-weight-bolder basket-total order-total">0 AED</label>
                                            </div>
                                        </div>
                                        <div class="row justify-content-end" id="couponLabel">
                                            <a href="javascript:void(0);" onclick="OpenModelPopup(this, '/Restaurant/Shop/Coupon')" class="coupon-title">I HAVE A COUPON</a>
                                        </div>
                                        <div class="row justify-content-end" id="remove-coupon" style="display:none">
                                            <a href="javascript:void(0);" onclick="RemoveCoupon(this)" class="coupon-title">REMOVE COUPON</a>
                                        </div>
                                        @*<div class="row">
                                            <div class="card-title mt-6"><h4>Restaurant Location</h4></div>
                                            <div class="col-md-12 col-sm-12">
                                                <div class="row">
                                                    <div class="col-md-12 col-sm-12">
                                                        <div class="form-group">
                                                            <label class="wo-titleinput mb-0">Search Location</label>
                                                            <div class="wo-form-icon">
                                                                <input type="text" class="form-control custom-input show-map-input Address" id="Address" name="Address" placeholder="Choose location" required value="@Model.Address">
                                                                <a href="javascript:void(0);" class="wo-right-icon get-current-location" onclick="getLocation()">
                                                                    <i class="flaticon2-map"></i>
                                                                </a>
                                                                <a href="javascript:void(0);" class="wo-right-icon pin-on-map" data-toggle="modal" data-target="#map-modal" onclick="openMap()">
                                                                    Pin On Map
                                                                </a>
                                                            </div>
                                                        </div>
                                                        <div class="MapSearchResult" style="display:none">
                                                        </div>
                                                        <input type="hidden" name="Latitude" id="Latitude" value="@Model.Latitude" />
                                                        <input type="hidden" name="Longitude" id="Longitude" value="@Model.Longitude" />
                                                    </div>
                                                </div>



                                                <div id="map" class="mt-4 mb-4 border border-dark ">
                                                        <div id="googleMap" style="width:100%;height:400px;"></div>
                                                    </div>
                                            </div>
                                        </div>*@
                                        <div class="address">
                                                <div class="row">
                                                    <div class="col-md-12 col-sm-12 mt-8">
                                                        <div class="form-group">
                                                            <label class="theme-red">Delivery Address</label>
                                                            <div class="input-icon input-icon-right">
                                                                <input type="text" class="delivery-address form-control Address" id="Address" value="70 32d St - Al Satwa - Dubai - United Arab Emirates" placeholder="Enter delivery address here .." />
                                                                <span><i class="theme-red fa fa-map-marker-alt icon-md pin-on-map" onclick="openMap()"></i></span>
                                                            </div>
                                                            <div class="MapSearchResult" style="display:none">
                                                            </div>
                                                            <input type="hidden" name="Latitude" id="Latitude" value="@Model.Latitude" />
                                                            <input type="hidden" name="Longitude" id="Longitude" value="@Model.Longitude" />

                                                        </div>
                                                        <div class="form-group">
                                                            <label class="opacity-50">Contact No</label>
                                                            <input class="form-control" id="ContactNo" placeholder="Enter contact number here ..." />
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="opacity-50">Street Address</label>
                                                            <input class="form-control" id="StreetAddress" placeholder="Enter street address here ..." />
                                                        </div>
                                                        <div class="form-group">
                                                            <label class="opacity-50">Note</label>
                                                            <textarea rows="4" class="form-control" id="Note" placeholder="Add a note to your order"></textarea>
                                                        </div>

                                                    </div>
                                                    <div class="col-md-12 col-sm-12">
                                                        <button class="btn btn-block btn-danger" onclick="OpenModelPopup(this, '/Restaurant/Shop/OrderNow')">ORDER NOW</button>
                                                    </div>

                                                    <div class="col-md-12 col-sm-12 mt-3">
                                                        <button class="btn btn-block btn-dark" onclick="OpenModelPopup(this, '/Restaurant/Shop/ScheduleOrder')">SCHEDULE ORDER</button>
                                                    </div>
                                                </div>
                                            </div>
                                    </div>

                                </div>

                            </div>
                        </div>

                        <!--end::Card-->



                    </div>

                </div>
            </div>


            <!--end::Dashboard-->
        </div>
        <!--end::Container-->
    </div>
    <!--end::Entry-->
</div>

<div id="myModal" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-dialog-centered modal-lg  modal-dialog-centered basket-popup">
        <div class="modal-content" style="min-height:100px">
            <div id='myModalContent'>
                <div class="row justify-content-center">
                    <div class="col-16">
                        <div class="kt-spinner kt-spinner--lg kt-spinner--dark kt-spinner-modal"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Map Modal Start -->
<div class="modal fade wo-videopopup " tabindex="-1" role="dialog" id="map-modal">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="wo-modalcontent modal-content">
            <div class="modal-body">
                <a href="javascript:void(0);" class="close"><i class="ti-close" data-dismiss="modal"></i></a>
                <div class="login-header">
                    <h4 class="text-center mb-2">Search Location</h4>
                    <p class="text-center" id="drag-map"><span>Drag marker on the map to select your desired location.</span></p>
                </div>
                <!-- Modal Body Start -->
                <div class="container">
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="map-div" style="display:none">
                                <input type="text" class="form-control custom-input mb-3 Address" id="current-location" name="current-location" placeholder="Search Location" required="">
                                <div id="googleMap" style="width:100%;height:400px;"></div>
                                <button class="btn btn-block btn-theme border-radius-4 mt-3 p-3" type="button" data-dismiss="modal">Done</button>
                            </div>
                            <div class="map-div-spin p-5 m-5 text-center">
                                <span class="fa fa-circle-notch fa-spin fa-2x"></span>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Modal Body End -->
            </div>
        </div>
    </div>
</div>
<!-- Map Modal End -->
<!--end::Row-->
<script>
    var SuccessMessage = '@ViewBag.SuccessMessage';
    var ErrorMessage = '@ViewBag.ErrorMessage';
</script>
@section Scripts {

    <script src="~/js/Map.js"></script>
    @*<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmOcUK0pgT3lW3Cr9LoeCVGIrm1_qFq30&callback=initMap&libraries=&v=weekly&callback=myMap"></script>*@
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDL1Kk_B0bkRx9FmM3v-3oRn57_MzFyiM8&libraries=places&callback=initAutocomplete"></script>
    <script src="~/admin/plugins/custom/ckeditor/ckeditor-classic.bundle.js"></script>
    <script src="~/Admin/plugins/custom/datatables/datatables.bundle.js"></script>
    <script src="/Admin/js/general/ModalPopup.js"></script>
    <script src="~/Admin/js/restaurant/shop/basket.js"></script>


    <script>
        
        var deliveryCharges = @Model.DeliveryCharges;
        var taxPercent = @Model.TaxPercentage;

        $(document).ready(function () {
            FillOrderCart();
        });
    </script>
}




